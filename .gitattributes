from datetime import date

class PersonalFinanceManager:
   """Manages personal finance records.
    Attributes:
        expenses (list of dict): A list where each entry is a dictionary representing an expense record.
        incomes (list of dict): A list where each entry is a dictionary representing an income record.
        budgets (dict): A dictionary to store budget information, not yet implemented.
    """
    def __init__(self):
        """Initializes a PFM instance with empty records."""

        self.expenses = []
        self.incomes = []
        self.budgets = {}
     
    def log_expense(self, amount, category):
      """Logs a new expense record.

        Args:
            amount (float): The amount of money spent.
            category (str): The category of the expense.
        """
        self.expenses.append({'date': date.today(), 'amount': amount, 'category': category})

    def log_income(self, amount, source):
        """Logs a new income record.

        Args:
            amount (float): The amount of money earned.
            source (str): The source of the income.
        """
        self.incomes.append({'date': date.today(), 'amount': amount, 'source': source})

    def get_financial_summary(self):
        """Calculates the total expenses and total income.

        Returns:
            tuple: A tuple containing total expenses and total income.
        """
        total_expenses = sum(expense['amount'] for expense in self.expenses)
        total_income = sum(income['amount'] for income in self.incomes)
        return total_expenses, total_income

     def add_budget ( self, category, amount):
         """
          Add or updates a budget for the given category.

           Parameters:
         - category (str); The category or type for which the budget is set.
         - amount (float): The budget amount.
         """
         - self.budget[category] = amount

  def update_budget(self, category, new_amount):
        """
        Update the budget amount for the given category.

        Parameters:
        - category (str): The category or type for which the budget is updated.
        - new_amount (float): The new budget amount.
        """
        if category in self.budgets:
            self.budgets[category] = new_amount
        else:
            print(f"No budget set for {category}.")

    @classmethod
    def input_expenses(cls, pfm):
       """Logs an income record from user input.

        Args:
            pfm (PersonalFinanceManager): The instance of PFM to log income to.
        """
        while True:
            item = input("What did you buy today? If nothing, type NOTHING: ")
            if item.upper() == "NOTHING":
                break
            amount = float(input(f"How much was {item}? "))
            pfm.log_expense(amount, item)

    @classmethod
    def input_income(cls, pfm):
        """Logs an income record from user input.

        Args:
            pfm (PersonalFinanceManager): The instance of PFM to log income to.
        """
        amount = float(input("How much did you make today? "))
        pfm.log_income(amount, 'income')

    @staticmethod
    def view_financial_summary(pfm):
        """Prints a financial summary including total expenses, total income, and net profit/loss.

        Args:
            pfm (PersonalFinanceManager): The instance of PFM to summarize.
        """
        total_expenses, total_income = pfm.get_financial_summary()
        net = total_income - total_expenses
        print(f"\nTotal Expenses: {total_expenses}")
        print(f"Total Income: {total_income}")
        print(f"Net Profit/Loss: {net}")

def main():
    """Main function to create a PFM instance and interact with the user to log and view financial records.""" 
    pfm = PersonalFinanceManager()

    PersonalFinanceManager.input_expenses(pfm)
    PersonalFinanceManager.input_income(pfm)
    PersonalFinanceManager.view_financial_summary(pfm)

if __name__ == "__main__":
    main()

