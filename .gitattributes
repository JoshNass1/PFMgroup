from datetime import date

class PersonalFinanceManager:
   """Manages personal finance records.
    Attributes:
        expenses (list of dict): A list where each entry is a dictionary representing an expense record.
        incomes (list of dict): A list where each entry is a dictionary representing an income record.
        budgets (dict): A dictionary to store budget information, not yet implemented.
    """
    def __init__(self):
        """Initializes a PFM instance with empty records."""

        self.expenses = []
        self.incomes = []
        self.budgets = {}
        self.savings_goals = {}
     
    def log_expense(self, amount, category): #2
      """Logs a new expense record.

        Args:
            amount (float): The amount of money spent.
            category (str): The category of the expense.
        """
        self.expenses.append({'date': date.today(), 'amount': amount, 'name' : name, 'category': category})

    def log_income(self, amount,name, source):
        """Logs a new income record.

        Args:
            amount (float): The amount of money earned.
            source (str): The source of the income.
            source (str): The source or origin of the income.
        """
        self.incomes.append({'date': date.today(), 'amount': amount,'name': name, 'source': source})

    def get_financial_summary(self, currency_rate=1): #3
        """Calculates the total expenses and total income, and net profit/loss in the specified currency.
        Parameters:
      - currency_rate (float, optional): The currency exchange rate for conversion (default is 1).
   
        Returns:
            tuple: A tuple containing total expenses and total income, and net profit/loss.
        """
        total_expenses = sum(expense['amount'] * currency_rate for expense in self.expenses)
        total_income = sum(income['amount'] * currency_rate for income in self.incomes)
        net = total_income - total_expenses
        return total_expenses, total_income, net

     def add_budget ( self, category, amount): #4
         """
          Add or updates a budget for the given category.

           Parameters:
         - category (str); The category or type for which the budget is set.
         - amount (float): The budget amount.
         """
         - self.budget[category] = amount

  def update_budget(self, category, new_amount):
        """
        Update the budget amount for the given category.

        Parameters:
        - category (str): The category or type for which the budget is updated.
        - new_amount (float): The new budget amount.
        """
        if category in self.budgets:
            self.budgets[category] = new_amount
        else:
            print(f"No budget set for {category}.")
 def delete_record (self, record_type, name):
      """
      Delete a record (expense or income) wi9th the given name.

      Parameters:
    - record_type (str) : the type of record to delete ('expense' or 'income').
    - name (str): the name or description of the record to delete.
      """
      if record_type == 'expenses':
         self.expense = [expense for expense in self.incomes if income ['name'] != name]
      elif record_type == 'income' :
           self.comes = [income for income in self.income if income ['name'] != name]
      esle:
          print("invalid  record type.")

    @classmethod
    def input_expenses(cls, pfm): #5
       """
      prompts the user input expenses. 

        Args:
            pfm (PersonalFinanceManager): The instance of PFM to log expenses.
        """
        while True:
            name = input("Enter the name of the expense? If nothing, (type 'NOTHING' to stop): ")
            if name.upper() == "NOTHING":
                break
            try:
               amount = float(input(f"How much was {name}? "))
               category = input("Enter the category: ")
               pfm.log_expense (amount, name, category)
            except ValueError:
               print ("please eneter a valid amount!")

    @classmethod
    def input_income(cls, pfm): #5
        """Logs an income record from user input.

        Args:
            pfm (PersonalFinanceManager): The instance of PFM to log income to.
        """
       try:
           name = input ("Enter the name of the income: ") 
           amount = float(input(f"How much was {name}? "))
           source = input("what was the source of income? ")
           pfm.log_income(amount, name, source)
      except ValueError:
           print ("Please enter a valid amount!")
####### START HERE  everything above this line is complete###########################################################################################
    @staticmethod
    def view_financial_summary(pfm): #6
        """Prints a financial summary including total expenses, total income, and net profit/loss.

        Args:
            pfm (PersonalFinanceManager): The instance of PFM to summarize.
        """
        total_expenses, total_income = pfm.get_financial_summary()
        net = total_income - total_expenses
        print(f"\nTotal Expenses: {total_expenses}")
        print(f"Total Income: {total_income}")
        print(f"Net Profit/Loss: {net}")

def main():
    """Main function to create a PFM instance and interact with the user to log and view financial records.""" 
    pfm = PersonalFinanceManager()

    PersonalFinanceManager.input_expenses(pfm)
    PersonalFinanceManager.input_income(pfm)
    PersonalFinanceManager.view_financial_summary(pfm)

if __name__ == "__main__":
    main()

